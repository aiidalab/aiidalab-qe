

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>How to setup a remote computer/code &#8212; Quantum ESPRESSO App v24.10.0a8-dev documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'howto/setup_computer_code';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="How to import a structure" href="import_structure.html" />
    <link rel="prev" title="How-to guides" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/logo_dark.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../installation/index.html">
                        Installation Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../tutorials/index.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        How-to guides
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../development/index.html">
                        Developer guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../blogs/index.html">
                        Blogs
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../report_issue.html">
                        Report an issue
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="http://aiidalab.net" title="AiiDAlab" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-solid fa-globe"></i></span>
            <label class="sr-only">AiiDAlab</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.github.com/aiidalab/aiidalab-qe" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../installation/index.html">
                        Installation Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../tutorials/index.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        How-to guides
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../development/index.html">
                        Developer guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../blogs/index.html">
                        Blogs
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../report_issue.html">
                        Report an issue
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="http://aiidalab.net" title="AiiDAlab" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-solid fa-globe"></i></span>
            <label class="sr-only">AiiDAlab</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.github.com/aiidalab/aiidalab-qe" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">How to setup a remote computer/code</a></li>
<li class="toctree-l1"><a class="reference internal" href="import_structure.html">How to import a structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrade_uninstall.html">How to upgrade or uninstall the app</a></li>
<li class="toctree-l1"><a class="reference internal" href="xas.html">How to calculate XANES spectra</a></li>
<li class="toctree-l1"><a class="reference internal" href="xps.html">How to calculate XPS spectra</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">How-to guides</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">How to setup a remote computer/code</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="how-to-setup-a-remote-computer-code">
<h1>How to setup a remote computer/code<a class="headerlink" href="#how-to-setup-a-remote-computer-code" title="Permalink to this headline">#</a></h1>
<p>The computational resources required for a calculation will often surpass those available on a local machine. In such cases, a user may want to leverage the computing power of a supercomputing cluster. The following guide will show you how to set up the AiiDAlab environment to run calculations on such remote machines.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You may notice on this page dropdown sections pertaining to “<strong>CSCS</strong>”</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
… CSCS<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">A note regarding CSCS…</p>
</div>
</details><p>These collapsible sections provide instructions specific to machines housed at the Swiss Supercomputer Centre (<a class="reference external" href="https://www.cscs.ch/">CSCS</a>), such as <cite>Daint</cite> and <cite>Eiger</cite>. However, if you do not have an account with CSCS, you may still find these instructions useful as an example for your machine.</p>
</div>
<hr class="docutils" />
<p>Please expand <strong>Step 3: Choose computational resources</strong>.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/step3.png"><img alt="../_images/step3.png" src="../_images/step3.png" style="width: 12cm;" /></a>
</figure>
<p>Under the <cite>Codes</cite> section, you can set up executables for the three relevant Quantum ESPRESSO codes used in the app:</p>
<ul class="simple">
<li><p>pw.x -  used in planewave (PW) self-consistent calculations</p></li>
<li><p>dos.x - used to compute the density-of-states (DOS)</p></li>
<li><p>projwfc.x - used to compute projected density-of-states (PDOS)</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Code selection for density-of-states (DOS/PDOS) will be disabled unless <strong>Projected density of states</strong> is selected as a property of instance in step 2.</p>
</div>
<p>Codes are represented as <code class="docutils literal notranslate"><span class="pre">code-label&#64;computer-label</span></code>, where a <cite>computer</cite> refers to a collection of configurations relating to the remote machine. So we first need to define a computer (on the remote machine), then a code (an executable) on the remote machine attached to that computer.</p>
<p>To begin, click on <cite>Setup new code</cite> for pw.x. This will open the setup widget explained in the following section.</p>
<section id="setup-widget">
<h2>Setup Widget<a class="headerlink" href="#setup-widget" title="Permalink to this headline">#</a></h2>
<p>The Quantum ESPRESSO app includes a built-in widget meant to assist with setting up new codes/computers. We will show you how to use it here to set up the AiiDAlab environment with executable codes located on a remote machine.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/setup_widget.png"><img alt="../_images/setup_widget.png" src="../_images/setup_widget.png" style="width: 12cm;" /></a>
</figure>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you’re using a CSCS machine, please check out the dropdown below. Otherwise, click on the <cite>Detailed Setup</cite> tab and proceed to the next section.</p>
</div>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Predefined CSCS Machines<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">The Quantum ESPRESSO app comes pre-configured with default codes located on various CSCS machines. We provide here a less-detailed, bulletpoint-styled guide to set up the environment for submitting calculations to a CSCS remote machine. For more details on each step, see the sections below.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p class="sd-card-text">If the dropdown list in step 2 below does not yet include a computer associated with your account/project (e.g. multicore-em01 for project em01), please click on the <cite>Detailed Setup</cite> tab and proceed with the sections below to establish a connection to the remote machine, and set up and define codes on a computer associated with it.</p>
</div>
<p class="sd-card-text"><strong>Steps:</strong></p>
<ol class="arabic simple">
<li><p class="sd-card-text">Select a domain (e.g. daint.cscs.ch)</p></li>
<li><p class="sd-card-text">Select a computer (e.g. multicore-em01)</p></li>
<li><p class="sd-card-text">Select a code (e.g. pw-7.0-multicore)</p></li>
<li><p class="sd-card-text">In <cite>Quick Setup</cite>, enter your username and click <cite>Quick Setup</cite></p></li>
<li><p class="sd-card-text">Enter your password in the <strong>passwordless enabling log</strong> box and press <cite>Continue</cite></p></li>
<li><p class="sd-card-text">Repeat steps 1-3 for each of the codes required for your calculation</p></li>
</ol>
<p class="sd-card-text">Once a code is created, you may select it from its respective dropdown menu.</p>
</div>
</details><section id="connection">
<h3>Connection<a class="headerlink" href="#connection" title="Permalink to this headline">#</a></h3>
<p>We need to set up a connection to the remote host. In <strong>Set up password-less SSH connection</strong>, you can set up an SSH connection including a proxy jump and authentication options specific to your supercomputing center of choice.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/passwordless.png"><img alt="../_images/passwordless.png" src="../_images/passwordless.png" style="width: 12cm;" /></a>
</figure>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>You will only need to do this once per host, i.e. computers set up on this host in the following section will all have access to the connection defined here.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are unsure of the details of the connection, you may consider reaching out to your institution’s IT department or supercomputing IT service desk.</p>
</div>
<p>Once you’ve entered all the necessary details, click <cite>Setup ssh</cite>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can test your connection by entering your password in the <strong>passwordless enabling log</strong> box above and clicking <cite>Continue</cite>. After a few second, you’ll be asked to reenter your password. Please do so and press <cite>Continue</cite> again. If you see the message <code class="docutils literal notranslate"><span class="pre">30s</span> <span class="pre">timeout</span></code>, please click <cite>Setup ssh</cite> once more and retry your password.</p>
</div>
</section>
<section id="computer">
<h3>Computer<a class="headerlink" href="#computer" title="Permalink to this headline">#</a></h3>
<p>Codes are attached to a computer, which is a set of configurations associated with a remote host machine. You can provide these configurations in <strong>Set up a computer in AiiDA</strong>.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/setup_computer.png"><img alt="../_images/setup_computer.png" src="../_images/setup_computer.png" style="width: 12cm;" /></a>
</figure>
<section id="transport-scheduler">
<h4>Transport &amp; Scheduler<a class="headerlink" href="#transport-scheduler" title="Permalink to this headline">#</a></h4>
<p>For <cite>Transport</cite> and <cite>Scheduler</cite>, the <code class="docutils literal notranslate"><span class="pre">core.</span></code> prefix is an AiiDA artifact.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">core.local</span></code> transport type is set when using a local machine. As our task here pertains to a remote machine, we will be using <code class="docutils literal notranslate"><span class="pre">core.ssh</span></code>.</p>
<p>Similarly, the <code class="docutils literal notranslate"><span class="pre">core.direct</span></code> scheduler is used for local machines. Please choose the relevant scheduler for your supercomputing center.</p>
</section>
<section id="prepend-append-text">
<h4>Prepend/Append Text<a class="headerlink" href="#prepend-append-text" title="Permalink to this headline">#</a></h4>
<p>AiiDA will construct the job execution command for you. However, your scheduler will need additional information regarding the job. You may add these as <strong>Prepend text</strong>. AiiDA will add it before the execution command.</p>
<p>For example, you may choose to provide the following to a <cite>Slurm</cite> scheduler:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#SBATCH --partition=...</span>
<span class="c1">#SBATCH --constraint=...</span>
<span class="c1">#SBATCH --cpus-per-task=...</span>

<span class="n">export</span> <span class="n">OMP_NUM_THREADS</span><span class="o">=...</span>
<span class="n">source</span> <span class="o">...</span>
<span class="n">ulimit</span> <span class="o">-</span><span class="n">s</span> <span class="n">unlimited</span>

<span class="o">&lt;</span><span class="n">execution</span> <span class="n">command</span><span class="o">&gt;</span>
</pre></div>
</div>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
CSCS Account Specification<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">CSCS machines require the user to specify the account relating to the user’s project using the <code class="docutils literal notranslate"><span class="pre">#SBATCH</span> <span class="pre">--account</span></code> option. You may do so here.</p>
</div>
</details><p>You may also add commands to be run post-submission as <strong>Append text</strong>. AiiDA will add it after the execution command.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The computer’s appended text is <em>not</em> meant to be used for calculation-specific post-processing, etc., as codes come with their own appended text option (see next section). You may consider using the computer’s appended text for machine-related tasks, such as clean up, file management, etc.</p>
</div>
<hr class="docutils" />
<p>Once you’ve entered all the necessary details, click <cite>Setup computer</cite> to complete the setup. To test the new computer, click <cite>Test computer</cite> and wait about a minute. If all is well, you should see something similar to the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Report</span><span class="p">:</span> <span class="n">Testing</span> <span class="n">computer</span><span class="o">&lt;</span><span class="n">daint</span><span class="o">-</span><span class="n">mc</span><span class="o">&gt;</span> <span class="k">for</span> <span class="n">user</span><span class="o">&lt;</span><span class="n">aiida</span><span class="nd">@localhost</span><span class="o">&gt;...</span>
<span class="o">*</span> <span class="n">Opening</span> <span class="n">connection</span><span class="o">...</span> <span class="p">[</span><span class="n">OK</span><span class="p">]</span>
<span class="o">*</span> <span class="n">Checking</span> <span class="k">for</span> <span class="n">spurious</span> <span class="n">output</span><span class="o">...</span> <span class="p">[</span><span class="n">OK</span><span class="p">]</span>
<span class="o">*</span> <span class="n">Getting</span> <span class="n">number</span> <span class="n">of</span> <span class="n">jobs</span> <span class="kn">from</span> <span class="nn">scheduler...</span> <span class="p">[</span><span class="n">OK</span><span class="p">]:</span> <span class="mi">2255</span> <span class="n">jobs</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">queue</span>
<span class="o">*</span> <span class="n">Determining</span> <span class="n">remote</span> <span class="n">user</span> <span class="n">name</span><span class="o">...</span> <span class="p">[</span><span class="n">OK</span><span class="p">]:</span> <span class="n">xingwang</span>
<span class="o">*</span> <span class="n">Creating</span> <span class="ow">and</span> <span class="n">deleting</span> <span class="n">temporary</span> <span class="n">file</span><span class="o">...</span> <span class="p">[</span><span class="n">OK</span><span class="p">]</span>
<span class="n">Success</span><span class="p">:</span> <span class="nb">all</span> <span class="mi">5</span> <span class="n">tests</span> <span class="n">succeeded</span>
</pre></div>
</div>
</section>
</section>
<section id="code">
<h3>Code<a class="headerlink" href="#code" title="Permalink to this headline">#</a></h3>
<p>Once a computer is defined, we may proceed to set up our codes in <strong>Set up a code in AiiDA</strong>.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/setup_code.png"><img alt="../_images/setup_code.png" src="../_images/setup_code.png" style="width: 12cm;" /></a>
</figure>
<p>For each of our codes (pw, dos, projwfc), you need to:</p>
<ol class="arabic simple">
<li><p>Provide a label (used in the AiiDA database)</p></li>
<li><p>Select the computer (defined in the previous section)</p></li>
<li><p>Select a code plugin (e.g. quantumespresso.pw for pw.x)</p></li>
<li><p>(<strong>optional</strong>) Provide a description</p></li>
<li><p>Set the absolute path to the executable on the remote machine</p></li>
</ol>
<p>You may choose to prepend/append commands to the execution command that are code-specific. You may do so here. AiiDA will add it around the execution command, between the prepend/append commands that may have been added in the previous section. The final submission script would have the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">computer</span><span class="o">-</span><span class="n">prepend</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">code</span><span class="o">-</span><span class="n">prepend</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">execution</span> <span class="n">command</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">code</span><span class="o">-</span><span class="n">append</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">computer</span><span class="o">-</span><span class="n">append</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>As mentioned in the previous section, computer prepend/append text are machine-specific commands required for all jobs, while code prepend/append texts are calculation-specific. Use these texts, for example, to load necessary modules prior to execution, and to perform post-processing post-execution.</p>
</div>
<p>Once you are finished, click <cite>Setup code</cite> to complete the setup.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>AiiDA can only make use of executables if they exist at their respective provided absolute paths. Please make sure that the codes are pre-compiled on the remote machine and are present before using them.</p>
</div>
<p>Once a code is created, you can close the setup widget by clicking on <cite>Setup new code</cite>. The newly created code is now available in its respective dropdown menu.</p>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/select_new_code.png"><img alt="../_images/select_new_code.png" src="../_images/select_new_code.png" style="width: 12cm;" /></a>
</figure>
<hr class="docutils" />
<p>Repeat the above process for each of the codes required for your calculation. You can skip the connection setup, as one has already been established. Similarly, you don’t need to set up a new computer. But do make sure to select the same computer for each of the codes.</p>
</section>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">How-to guides</p>
      </div>
    </a>
    <a class="right-next"
       href="import_structure.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">How to import a structure</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setup-widget">Setup Widget</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#connection">Connection</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computer">Computer</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#transport-scheduler">Transport &amp; Scheduler</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#prepend-append-text">Prepend/Append Text</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#code">Code</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2023-2025, The AiiDAlab Team. All rights reserved.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>